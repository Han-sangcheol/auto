# ==========================================
# CleonAI 자동매매 프로그램 환경 변수 설정
# ==========================================
#
# 이 파일을 .env로 복사한 후 본인의 정보로 수정하세요:
# copy env.template .env
#
# 주의: .env 파일을 절대로 Git에 업로드하지 마세요!
#

# ==========================================
# 필수 설정 (반드시 수정하세요!)
# ==========================================

# 키움증권 계좌 번호
# - 모의투자: 8로 시작 (예: 8123456789)
# - 실계좌: 다른 숫자로 시작
KIWOOM_ACCOUNT_NUMBER=8123456789

# 계좌 비밀번호 (4자리)
# 주의: 로그인 비밀번호가 아니라 HTS에서 주문할 때 입력하는 계좌 비밀번호입니다
KIWOOM_ACCOUNT_PASSWORD=1234

# 거래 모드
# - True: 모의투자 (안전, 추천)
# - False: 실계좌 (주의 필요)
USE_SIMULATION=True

# 🆕 개발 모드 (시간 제약 없이 프로그램 실행 - 개발/테스트용)
# - True: 시장 시간과 관계없이 모든 기능 실행 (개발/테스트용)
# - False: 정규 시장 시간에만 자동매매 실행 (일반 운영)
# 주의: 개발 모드에서는 실제 매매가 불가할 수 있습니다
DEVELOPMENT_MODE=True

# 🆕 시간외 거래 지원
# - True: 시간외 거래 시간 (15:40-18:00) 지원
#   * 시간외 단일가: 15:40-16:00
#   * 시간외 종가거래: 16:00-18:00
# - False: 정규장 (09:00-15:30)만 지원
# 참고: 시간외 거래는 제한적 거래 가능 (종목/수량 제한 등)
ENABLE_AFTER_HOURS_TRADING=True

# 관심 종목 (종목코드 6자리, 쉼표로 구분)
# 예시:
# - 005930: 삼성전자
# - 000660: SK하이닉스
# - 035720: 카카오
# - 051910: LG화학
# - 006400: 삼성SDI
# 주의: 너무 많은 종목은 API 제한에 걸릴 수 있습니다 (3-5개 권장)
WATCH_LIST=005930,000660,035720

# ==========================================
# 리스크 관리 설정
# ==========================================

# 최대 동시 보유 종목 수
# 추천: 3-5개
MAX_STOCKS=3

# 자동매매 투자 비율 (%)
# 전체 잔고 중 자동매매에 사용할 비율 (나머지는 수동매매/예비금)
# 예: 80% = 잔고의 80%를 자동매매에 사용, 20%는 수동매매/예비금
# 추천: 70-90%
AUTO_TRADING_RATIO=80

# 종목당 투자 비율 (%)
# 자동매매 잔고 중 한 종목에 투자할 비율
# 예: 10% = 자동매매 잔고의 10%를 한 종목에 투자
# 추천: 5-15%
POSITION_SIZE_PERCENT=10

# 손절매 비율 (%)
# 예: 5% = 매수가 대비 5% 하락 시 자동 매도
# 추천: 3-7%
STOP_LOSS_PERCENT=5

# 익절매 비율 (%)
# 예: 10% = 매수가 대비 10% 상승 시 자동 매도
# 추천: 8-15%
TAKE_PROFIT_PERCENT=10

# 일일 손실 한도 (%)
# 예: 3% = 하루 총 손실이 3% 초과 시 거래 중지
# 추천: 3-5%
DAILY_LOSS_LIMIT_PERCENT=3

# ==========================================
# 추가 매수 설정 (물타기 전략)
# ==========================================

# 추가 매수 활성화 (True/False)
# 손실 발생 시 추가 매수로 평균 매수가를 낮추는 전략
# 주의: 위험도가 높으므로 신중하게 사용
# 추천: False (비활성화) 또는 충분한 테스트 후 활성화
ENABLE_AVERAGE_DOWN=False

# 추가 매수 트리거 비율 (%)
# 평균가 대비 이 비율만큼 하락 시 추가 매수 실행
# 예: 2.5% = 평균가 대비 -2.5% 하락 시 추가 매수
# 주의: 손절매 비율보다 작아야 함
# 추천: 2.0-3.0%
AVERAGE_DOWN_TRIGGER_PERCENT=2.5

# 최대 추가 매수 횟수
# 무한 물타기 방지를 위한 제한
# 예: 2 = 최대 2회까지 추가 매수
# 추천: 1-2회
MAX_AVERAGE_DOWN_COUNT=2

# 추가 매수 수량 비율
# 첫 매수 대비 추가 매수할 수량의 비율
# 예: 1.0 = 첫 매수와 같은 수량, 2.0 = 첫 매수의 2배 수량
# 추천: 0.5-1.0
AVERAGE_DOWN_SIZE_RATIO=1.0

# ==========================================
# 전략 설정 - 이동평균선
# ==========================================

# 단기 이동평균 기간 (일)
# 작을수록 민감, 클수록 둔감
# 추천: 5-10일
MA_SHORT_PERIOD=5

# 장기 이동평균 기간 (일)
# 단기보다 커야 함
# 추천: 20-30일
MA_LONG_PERIOD=20

# ==========================================
# 전략 설정 - RSI
# ==========================================

# RSI 계산 기간 (일)
# 일반적으로 14일 사용
RSI_PERIOD=14

# RSI 과매도 기준
# 이 값 이하면 매수 신호
# 일반적으로 30 사용
RSI_OVERSOLD=30

# RSI 과매수 기준
# 이 값 이상이면 매도 신호
# 일반적으로 70 사용
RSI_OVERBOUGHT=70

# ==========================================
# 전략 설정 - MACD
# ==========================================

# MACD 빠른선 (단기 EMA)
MACD_FAST=12

# MACD 느린선 (장기 EMA)
MACD_SLOW=26

# MACD 시그널선
MACD_SIGNAL=9

# ==========================================
# 통합 전략 설정
# ==========================================

# 최소 신호 강도 (1-3)
# - 1: 1개 전략만 동의해도 매매 (공격적)
# - 2: 2개 전략 동의 필요 (균형, 추천)
# - 3: 3개 전략 모두 동의 필요 (보수적)
MIN_SIGNAL_STRENGTH=2

# ==========================================
# 급등주 자동 감지 설정
# ==========================================

# 급등주 감지 기능 활성화
# - True: 급등주 자동 감지 (활성화)
# - False: 비활성화
ENABLE_SURGE_DETECTION=True

# 급등주 자동 승인 (매수/매도) ⚠️ 중요 설정
# - True: 급등주 감지 시 자동으로 매수 (사용자 승인 불필요) ✅ 기본값 (권장)
# - False: 급등주 감지 시 콘솔에서 y/n 입력으로 승인 (수동)
# 
# ✅ 기본값: True (자동 승인)
# ✅ GUI 환경에서는 자동 승인 강력 권장 (사용자 입력 어려움)
# ⚠️  주의: 감지된 모든 급등주를 자동으로 매수합니다!
# 💡 리스크 관리: 최대 종목 수(MAX_STOCKS)와 손절매(STOP_LOSS_PERCENT)로 조절
SURGE_AUTO_APPROVE=True

# 거래대금 상위 N개 종목 모니터링
# 예: 100 = 당일 거래대금 상위 100개 종목
# 추천: 50-100개
SURGE_CANDIDATE_COUNT=100

# 🆕 연속조회 사용 여부 (더 많은 종목 조회)
# - True: 연속조회 사용 (100개 → 최대 300개)
# - False: 1회만 조회 (약 100개)
# 추천: True (API 한도 충분)
SURGE_USE_CONTINUOUS=True

# 🆕 최대 연속조회 횟수
# 예: 3 = 최대 3회 연속조회 (약 300개 종목)
# 추천: 2-3회 (API 한도 고려)
# 주의: 너무 많으면 초기화 시간 증가
SURGE_MAX_CONTINUOUS=3

# 급등 기준 - 최소 상승률 (%) [레퍼런스용]
# 예: 5.0 = 전일 대비 5% 이상 상승
# 추천: 5-10%
SURGE_MIN_CHANGE_RATE=5.0

# 급등 기준 - 모니터링 시작 이후 추가 상승률 (%) [실제 판단 기준]
# 예: 5.0 = 프로그램 시작 후 5% 이상 추가 상승 시 급등으로 판단
# 시작 시점에 이미 10% 상승 → 현재 15% 상승 = 추가 상승 5% → 급등 감지
# 추천: 3-7%
SURGE_MONITORING_CHANGE_RATE=5.0

# 급등 기준 - 최소 거래량 비율
# 예: 2.0 = 평균 거래량의 2배 이상
# 추천: 2-3배
SURGE_MIN_VOLUME_RATIO=2.0

# 재감지 방지 시간 (분)
# 예: 30 = 동일 종목은 30분 후 재감지 가능
# 추천: 20-60분
SURGE_COOLDOWN_MINUTES=30

# ==========================================
# 뉴스 분석 설정 (고급 기능 - 선택적)
# ==========================================

# 뉴스 분석 기능 활성화
# - True: 뉴스 기반 매매 신호 활성화
# - False: 비활성화 (기본값 - 추가 패키지 필요)
# ⚠️ 주의: 활성화 시 beautifulsoup4, requests 패키지 필요
ENABLE_NEWS_ANALYSIS=False

# 뉴스 갱신 간격 (초)
# 예: 300 = 5분마다 뉴스 수집
# 추천: 300-600초 (5-10분)
NEWS_UPDATE_INTERVAL=300

# 최소 뉴스 개수
# 신호 생성에 필요한 최소 뉴스 개수
NEWS_MIN_COUNT=3

# 뉴스 기반 매수 임계값
# 긍정 뉴스 점수가 이 값 이상이면 매수 신호
# 추천: 20-40
NEWS_BUY_THRESHOLD=30

# 뉴스 기반 매도 임계값
# 부정 뉴스 점수가 이 값 이하면 매도 신호
# 추천: -20 ~ -40
NEWS_SELL_THRESHOLD=-30

# 🆕 뉴스 기반 매수/매도 기준 동적 조정 (%)
# 호재 시 급등 기준 완화: 예) 50 = 급등 기준 5% → 2.5% (50% 완화)
# 호재 뉴스가 있으면 더 낮은 상승률에도 매수 가능
NEWS_POSITIVE_SURGE_ADJUST=50

# 악재 시 손절 기준 강화: 예) 50 = 손절 기준 3% → 1.5% (50% 강화)
# 악재 뉴스가 있으면 더 빨리 손절 실행
NEWS_NEGATIVE_STOPLOSS_ADJUST=50

# ==========================================
# 알림 설정
# ==========================================

# 알림 기능 활성화
# - True: Windows 토스트 알림 활성화
# - False: 비활성화
ENABLE_NOTIFICATIONS=True

# 소리 알림
# - True: 중요 이벤트 시 소리 재생
# - False: 무음
ENABLE_SOUND_ALERTS=True

# ==========================================
# 헬스 모니터 설정 (Phase 4)
# ==========================================

# 헬스 모니터 활성화
# - True: 프로그램 상태 주기적 체크
# - False: 비활성화
# ⚠️ 주의: 활성화 시 psutil 패키지 필요
ENABLE_HEALTH_MONITOR=True

# 헬스 체크 간격 (초)
# 예: 60 = 1분마다 체크
# 추천: 60-180초 (1-3분)
HEALTH_CHECK_INTERVAL=60

# 자동 복구 활성화
# - True: API 연결 끊김 시 자동 재연결 시도
# - False: 수동 복구 필요
ENABLE_AUTO_RECOVERY=True

# ==========================================
# 스케줄러 설정
# ==========================================

# 자동 종료 활성화 (16:00에 프로그램 자동 종료)
# True: 장 마감 후 자동 종료
# False: 수동 종료 (24시간 운영)
ENABLE_AUTO_SHUTDOWN=False

# ==========================================
# 로깅 설정
# ==========================================

# 로그 레벨
# - DEBUG: 모든 상세 정보
# - INFO: 일반 정보 (추천)
# - WARNING: 경고 이상
# - ERROR: 에러만
LOG_LEVEL=INFO

# 로그 파일 경로
# 변경 불필요
LOG_FILE_PATH=logs/trading.log

# ==========================================
# 고급 설정 (일반 사용자는 수정 불필요)
# ==========================================

# API 요청 지연 (초)
# 키움 API 제한: 초당 5건
# 변경 권장하지 않음
# API_REQUEST_DELAY=0.2

# 데이터 저장 옵션
# True: 거래 데이터를 엑셀로 저장
# False: 저장하지 않음
# SAVE_TO_EXCEL=False

# ==========================================
# 설정 완료!
# ==========================================
#
# 설정을 마쳤으면:
# 1. 파일 저장
# 2. start.bat 실행
# 3. 공동인증서로 로그인
#
# 문제가 발생하면 TROUBLESHOOTING.md를 참고하세요.
#

