# 자주 묻는 질문 (FAQ)

자동매매 프로그램 사용 중 자주 묻는 질문과 답변입니다.

## 목차

- [설치 및 설정](#설치-및-설정)
- [실행 및 운영](#실행-및-운영)
- [매매 관련](#매매-관련)
- [계좌 및 자금](#계좌-및-자금)
- [전략 및 성과](#전략-및-성과)
- [오류 및 문제 해결](#오류-및-문제-해결)

---

## 설치 및 설정

### Q1. Python 버전은 어떤 것을 사용해야 하나요?

**A**: Python 3.11 이상을 권장합니다. Python 3.13이 최신 안정 버전입니다.

```bash
python --version
```

### Q2. Mac이나 Linux에서 사용할 수 있나요?

**A**: 아니요. 키움 Open API는 Windows 전용입니다. Mac에서는 다음 방법을 시도할 수 있습니다:
- Parallels Desktop으로 Windows 가상머신 실행
- Boot Camp로 Windows 설치

그러나 안정성을 위해 Windows PC 사용을 권장합니다.

### Q3. 가상환경(.venv)이 무엇인가요? 꼭 필요한가요?

**A**: 가상환경은 프로젝트별로 독립된 Python 환경을 만들어줍니다.

**장점**:
- 다른 프로젝트와 패키지 충돌 방지
- 버전 관리 용이
- 시스템 Python에 영향 없음

**필수는 아니지만 강력히 권장**합니다. `setup.bat`이 자동으로 생성해줍니다.

### Q4. .env 파일이 보이지 않습니다.

**A**: Windows 탐색기에서 숨김 파일이 표시되도록 설정하세요.

1. 탐색기 열기
2. 보기 → 옵션 → 보기 탭
3. "숨김 파일, 폴더 및 드라이브 표시" 선택
4. 확인

또는 명령 프롬프트에서:
```bash
dir /a
```

### Q5. 종목코드는 어디서 찾나요?

**A**: 네이버 증권에서 쉽게 찾을 수 있습니다.

1. https://finance.naver.com 접속
2. 원하는 종목 검색 (예: "삼성전자")
3. URL에서 숫자 확인: `.../code=005930`
4. 005930이 종목코드입니다

**주요 종목코드**:
- 005930: 삼성전자
- 000660: SK하이닉스
- 035720: 카카오
- 051910: LG화학
- 006400: 삼성SDI
- 035420: NAVER

---

## 실행 및 운영

### Q6. 프로그램을 24시간 실행해야 하나요?

**A**: 아니요. 장 운영 시간(평일 09:00-15:30)에만 실행하면 됩니다.

**권장 실행 시간**:
- 장 시작 10분 전: 08:50
- 장 마감 시간: 15:30

장외 시간에는 실시간 데이터가 제공되지 않습니다.

### Q7. 프로그램을 끄면 보유 종목은 어떻게 되나요?

**A**: 보유 종목은 계좌에 그대로 남아있습니다.

- 프로그램 재실행 시 자동으로 인식됩니다
- 손절매/익절매는 다음 실행 시 계속 적용됩니다
- HTS/MTS에서 수동으로 매도할 수도 있습니다

### Q8. 여러 PC에서 동시에 실행할 수 있나요?

**A**: 가능하지만 권장하지 않습니다.

**문제점**:
- 동일한 계좌에 중복 주문 발생 가능
- 키움 API 동시 접속 제한
- 리스크 관리 기준 충돌

**하나의 PC에서만 실행**하는 것을 강력히 권장합니다.

### Q9. 프로그램을 자동으로 시작하게 할 수 있나요?

**A**: Windows 작업 스케줄러를 사용하면 가능합니다.

1. 작업 스케줄러 실행
2. "기본 작업 만들기" 클릭
3. 트리거: 평일 08:50
4. 동작: `start.bat` 실행

**주의**: 공동인증서 로그인은 수동으로 해야 합니다.

### Q10. 프로그램 업데이트는 어떻게 하나요?

**A**: Git을 사용하는 경우:

```bash
git pull origin main
```

ZIP으로 다운로드한 경우:
1. 새 버전 다운로드
2. `.env` 파일과 `logs/` 폴더 백업
3. 새 파일로 교체
4. 백업한 `.env` 복원

---

## 매매 관련

### Q11. 매매가 전혀 실행되지 않습니다.

**A**: 다음을 확인하세요:

1. **데이터 부족**
   - 최소 30개 이상의 가격 데이터 필요
   - 프로그램을 더 오래 실행하세요 (최소 30분)

2. **신호 강도 부족**
   - 로그에서 "신호: 관망" 확인
   - `.env`에서 `MIN_SIGNAL_STRENGTH=1`로 낮추기

3. **리스크 제한**
   - 최대 보유 종목 수 초과
   - 일일 손실 한도 초과
   - 잔고 부족

4. **장 시간 확인**
   - 평일 09:00-15:30 사이인지 확인

### Q12. 너무 자주 매매합니다. 어떻게 줄이나요?

**A**: `.env` 파일에서 조정하세요:

```env
# 신호 강도를 높여서 신중하게
MIN_SIGNAL_STRENGTH=3              # 3개 전략 모두 동의 필요

# 이동평균 기간을 늘려서 민감도 낮추기
MA_SHORT_PERIOD=10                 # 5 → 10
MA_LONG_PERIOD=30                  # 20 → 30
```

### Q13. 손절매가 실행되지 않습니다.

**A**: 손절매는 다음 조건에서 실행됩니다:

1. **현재가 확인**: 실시간 시세 수신 필요
2. **손절가 계산**: 매수가 × (1 - 손절비율/100)
3. **자동 매도**: 조건 충족 시 즉시 실행

**확인 사항**:
- 프로그램이 실행 중인지
- 실시간 시세가 수신되는지 (로그 확인)
- `.env`의 `STOP_LOSS_PERCENT` 값 확인

### Q14. 하나의 종목만 매매하고 싶습니다.

**A**: `.env` 파일에서:

```env
WATCH_LIST=005930                  # 삼성전자만
MAX_STOCKS=1                       # 최대 1개 종목
```

### Q15. 특정 시간대만 매매할 수 있나요?

**A**: 현재 버전에서는 지원하지 않습니다.

**우회 방법**:
- 원하는 시간에만 프로그램 실행
- 예: 09:00-11:00, 14:00-15:00

향후 업데이트에서 시간대 설정 기능을 추가할 예정입니다.

---

## 계좌 및 자금

### Q16. 모의투자와 실계좌의 차이는 무엇인가요?

**A**:

| 구분 | 모의투자 | 실계좌 |
|------|----------|--------|
| 계좌번호 | 8로 시작 | 다른 숫자 |
| 초기 자금 | 1억원 (가상) | 실제 입금액 |
| 수수료 | 무료 | 실제 수수료 발생 |
| 체결 | 즉시 체결 가능 | 실제 시장 체결 |
| 리스크 | 없음 | 실제 손실 발생 |

**권장**: 최소 1개월 모의투자 → 실계좌 전환

### Q17. 최소 자금은 얼마가 필요한가요?

**A**: 설정에 따라 다릅니다.

**기본 설정 기준**:
```
종목당 투자: 10%
최대 종목: 3개
총 필요 자금: 30%
```

**예시**:
- 100만원: 종목당 10만원 (소액주만 가능)
- 500만원: 종목당 50만원 (권장 최소 금액)
- 1,000만원: 종목당 100만원 (적정 금액)

**추천**: 최소 500만원 이상

### Q18. 수수료는 얼마나 발생하나요?

**A**: 키움증권 기준 (실계좌):

- **매매 수수료**: 거래금액의 약 0.015%
- **거래세**: 매도 시 0.23%
- **기타**: 유관기관 수수료 등

**예시** (100만원 매매):
- 매수 수수료: 약 150원
- 매도 수수료: 약 150원
- 매도세: 2,300원
- 총: 약 2,600원 (0.26%)

모의투자는 수수료가 없습니다.

### Q19. 일일 손실 한도를 초과하면 어떻게 되나요?

**A**: 자동으로 거래가 중지됩니다.

**동작**:
1. 시작 잔고 기록
2. 현재 잔고 계속 확인
3. 손실 한도 초과 시 신규 매수 중지
4. 기존 보유 종목은 유지 (손절매/익절매만 실행)

**재개**: 다음 거래일에 자동으로 리셋됩니다.

---

## 전략 및 성과

### Q20. 수익률은 어느 정도 기대할 수 있나요?

**A**: 시장 상황과 설정에 따라 크게 다릅니다.

**현실적인 기대**:
- 월 수익률: -5% ~ +10%
- 연 수익률: -20% ~ +30%

**주의**:
- 과거 성과 ≠ 미래 수익
- 손실 가능성 항상 존재
- 장기적 관점 필요

### Q21. 어떤 전략이 가장 좋나요?

**A**: 시장 상황에 따라 다릅니다.

**전략별 특징**:
- **이동평균**: 추세장에서 강력
- **RSI**: 박스권에서 유리
- **MACD**: 모멘텀 포착

**합의 알고리즘**을 사용하여 3개 전략을 조합하는 것이 가장 안정적입니다.

### Q22. 전략을 추가할 수 있나요?

**A**: 네, Python 코드를 수정하면 가능합니다.

`strategies.py` 파일에서:
1. 새 전략 클래스 작성
2. `create_default_strategies()` 함수에 추가

**추천 전략**:
- 볼린저 밴드
- 스토캐스틱
- CCI (Commodity Channel Index)

### Q23. 백테스팅은 어떻게 하나요?

**A**: 현재 버전에서는 수동으로 해야 합니다.

**방법**:
1. 과거 데이터 수집 (키움 API 또는 외부 소스)
2. `indicators.py`로 지표 계산
3. `strategies.py`로 신호 생성
4. 결과 분석

향후 업데이트에서 자동 백테스팅 기능을 추가할 예정입니다.

### Q24. 성과를 엑셀로 내보낼 수 있나요?

**A**: 로그 파일을 파싱하여 가능합니다.

**방법**:
1. `logs/trading.log` 열기
2. 거래 내역 필터링
3. 엑셀 또는 CSV로 변환

또는 HTS에서 거래 내역을 직접 다운로드할 수 있습니다.

---

## 오류 및 문제 해결

### Q25. "로그인 실패" 오류가 발생합니다.

**A**: [TROUBLESHOOTING.md](TROUBLESHOOTING.md#로그인-실패)를 참고하세요.

**빠른 체크**:
1. KOA Studio로 로그인 테스트
2. 공동인증서 비밀번호 확인
3. 모의투자/실계좌 설정 확인

### Q26. "API 사용량 초과" 오류가 나옵니다.

**A**: 키움 API의 조회 한도를 초과했습니다.

**제한**:
- 초당 5건
- 일일 1,000건

**해결**:
1. 관심 종목 수 줄이기
2. 다음 날까지 대기
3. 조회 빈도 감소

### Q27. 프로그램이 갑자기 종료됩니다.

**A**: `logs/error.log`를 확인하세요.

**일반적인 원인**:
- 메모리 부족
- 네트워크 오류
- 키움 API 서버 문제
- Python 에러

**해결**:
- 프로그램 재시작
- PC 재부팅
- 로그 확인 후 오류 수정

### Q28. 실시간 데이터가 수신되지 않습니다.

**A**: 다음을 확인하세요:

1. **장 운영 시간**: 09:00-15:30
2. **로그인 상태**: 재로그인 필요 가능
3. **종목 등록**: `.env`의 `WATCH_LIST` 확인
4. **네트워크**: 인터넷 연결 확인

### Q29. 메모리 사용량이 계속 증가합니다.

**A**: 정상적인 현상일 수 있습니다.

**원인**:
- 가격 데이터 누적
- 로그 증가

**해결**:
- 일일 재시작 권장
- 오래된 로그 삭제
- 관심 종목 수 제한

### Q30. 더 많은 도움이 필요합니다.

**A**: 다음 자료를 참고하세요:

1. **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - 상세한 문제 해결
2. **로그 파일** - `logs/error.log`, `logs/trading.log`
3. **키움 API 매뉴얼** - KOA Studio 참고
4. **GitHub Issues** - 버그 리포트 및 문의

---

## 추가 질문

이 FAQ에 없는 질문이 있으신가요?

1. [TROUBLESHOOTING.md](TROUBLESHOOTING.md)를 확인하세요
2. 로그 파일을 분석하세요
3. GitHub Issues에 질문을 올려주세요

---

**문서 버전**: 1.0.0  
**최종 업데이트**: 2025년 10월 21일  
**관련 문서**: [TROUBLESHOOTING.md](TROUBLESHOOTING.md), [GETTING_STARTED.md](GETTING_STARTED.md)

