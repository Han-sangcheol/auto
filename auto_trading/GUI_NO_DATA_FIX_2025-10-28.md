# 🖥️ GUI 데이터 미표시 문제 해결 (2025-10-28)

## 📌 문제 증상

**GUI 창은 뜨지만 아무런 데이터가 표시되지 않음**

```
[12:20:26] ✅ 자동매매 프로그램 시작
[12:20:26] 📋 관심 종목: 005930, 000660, 035720
[12:20:26] 🚀 급등주 감지 활성화

→ 이후 아무런 반응 없음
→ 테이블 비어있음
→ 로그만 추가됨
```

## 🔍 원인 분석

### 1. 보유 종목 없음
- GUI는 보유 종목만 표시
- 아직 매수가 실행되지 않음 → 테이블 비어있음

### 2. 급등주 조건이 너무 까다로움

**호가 분석 기능 추가로 조건 강화:**

| 조건 | Before | After (문제) |
|------|--------|--------------|
| 상승률 | 5% | **10%** ⬆️ |
| 거래량 | 2배 | **3배** ⬆️ |
| **호가 조건** | - | **60점 이상** 🆕 |

**결과:**
- 조건이 너무 까다로워 급등주가 감지되지 않음
- 매수가 실행되지 않음
- GUI에 표시할 데이터 없음

### 3. 로그 분석

**11:09 (조건 완화 시):**
```
🚀 급등 감지! 아이씨티케이 (+12.48%)
✅ 급등주 자동 승인
✅ 급등주 추가
```

**12:20 이후 (조건 강화 후):**
```
(급등 감지 로그 없음)
→ 호가 조건 때문에 감지 안 됨
```

## ✅ 해결 방법

### 급등주 조건 완화

```python
# config.py 수정
SURGE_MIN_CHANGE_RATE = 5.0  # 10.0 → 5.0
SURGE_MIN_VOLUME_RATIO = 2.0  # 3.0 → 2.0
SURGE_MIN_BUYING_PRESSURE = 0.0  # 60.0 → 0.0 (호가 조건 비활성화)
```

### 변경 내역

| 조건 | Before (까다로움) | After (완화) | 설명 |
|------|-------------------|--------------|------|
| **상승률** | 10% | **5%** | 더 많은 종목 감지 |
| **거래량** | 3배 | **2배** | 조건 완화 |
| **호가 조건** | 60점 | **0점 (비활성화)** | 조건 제거 |

## 🚀 프로그램 재시작

### 1. 현재 실행 중인 프로그램 종료

```bash
Ctrl+C
```

또는

```bash
taskkill /F /IM python.exe
```

### 2. 프로그램 재시작

```bash
start.bat
```

### 3. 예상 동작

**급등주 더 많이 감지:**
```
🚀 급등 감지! 종목A (+5.2%) | 거래량: 2.1배
✅ 급등주 자동 승인: 종목A
✅ 급등주 추가: 종목A

🚀 급등주 즉시 매수 시도!
📈 매수 시도: 종목A 10주 @ 5,000원
✅ 매수 주문 전송 완료
🎉 매수 체결: 종목A 10주
```

**GUI 테이블에 표시:**
```
보유 종목 테이블:
종목코드 | 종목명 | 수량 | 매수가 | 현재가 | 수익률
005930  | 삼성전자 | 10 | 75,000 | 75,500 | +0.67%
```

## 📊 설정 비교

### Before (문제 있음)

```
급등주 감지 조건:
  후보 종목 수: 30개
  최소 상승률: 10.0% ← 너무 높음
  최소 거래량 비율: 3.0배 ← 너무 높음
  매수 압력 점수: 60.0점 ← 호가 조건 추가
  
결과: 감지되는 급등주가 거의 없음
```

### After (수정됨)

```
급등주 감지 조건:
  후보 종목 수: 30개
  최소 상승률: 5.0% ← 완화
  최소 거래량 비율: 2.0배 ← 완화
  매수 압력 점수: 0.0점 ← 비활성화
  
결과: 급등주가 더 많이 감지됨 (기존 수준 복원)
```

## ⚙️ 맞춤 설정

### .env 파일로 조정 가능

급등주 감지를 더 늘리거나 줄이려면:

**더 많은 급등주 (공격적):**
```env
SURGE_MIN_CHANGE_RATE=3.0
SURGE_MIN_VOLUME_RATIO=1.5
SURGE_MIN_BUYING_PRESSURE=0.0
```

**더 적은 급등주 (보수적):**
```env
SURGE_MIN_CHANGE_RATE=7.0
SURGE_MIN_VOLUME_RATIO=2.5
SURGE_MIN_BUYING_PRESSURE=50.0
```

**균형 잡힌 설정 (권장):**
```env
SURGE_MIN_CHANGE_RATE=5.0
SURGE_MIN_VOLUME_RATIO=2.0
SURGE_MIN_BUYING_PRESSURE=0.0
```

## 🎯 호가 분석 활용 (향후)

호가 분석을 다시 활성화하려면:

```env
SURGE_MIN_BUYING_PRESSURE=40.0  # 0 → 40 (완화된 조건)
```

**효과:**
- 매수세가 강한 종목만 선별
- 고점 매수 위험 감소
- 하지만 기회도 줄어듦

**권장:**
1. 먼저 호가 조건 없이 (0.0) 테스트
2. 안정화 후 30-40으로 설정
3. 수익률 확인 후 조정

## 📋 체크리스트

프로그램 재시작 후 확인:

- [ ] 프로그램 종료 및 재시작
- [ ] 급등주 감지 로그 확인
- [ ] 매수 실행 로그 확인
- [ ] GUI 테이블에 보유 종목 표시
- [ ] 실시간 가격 업데이트 확인

## ⚠️ 주의사항

### 1. 급등주가 너무 많이 감지될 수 있음

**대응:**
- 최대 보유 종목: 20개 (자동 제한)
- 손절매 -5% 자동 실행
- 익절매 +10% 자동 실행

### 2. 모의투자 권장

조건 변경 후 반드시:
- 모의투자로 테스트
- 최소 1-2일 관찰
- 수익률 확인 후 실전

### 3. 과부하 주의

급등주가 너무 많으면:
- API 과부하 발생 가능
- 후보 종목 수 조정: 30 → 20
- 또는 조건 다시 강화

## 🔗 관련 문서

- **ORDERBOOK_ANALYSIS_2025-10-28.md** - 호가 분석 가이드
- **OVERLOAD_FIX_2025-10-28.md** - 과부하 방지
- **SURGE_BUY_FIX_2025-10-28.md** - 매수 실행 문제

## 📞 추가 지원

문제가 계속되면:
1. `logs/trading_*.log` 확인
2. `logs/error_*.log` 확인  
3. 프로그램 재시작

---

**최종 업데이트**: 2025-10-28
**상태**: ✅ 수정 완료
**효과**: 🎯 급등주 감지 및 매수 정상화
**다음**: 🔄 프로그램 재시작 필요

